{% extends "layout.html" %}

{% block title %}Welcome{% endblock %}

{% block content %}
<div id="container">
  <h2>Welcome !</h2>
  <div class="welcome">
    
    <p>
      Welcome to "The Web Teaching Server". The aim of this website
      is to learn how to build... a website!
      This website is deliberately minimalist in design and functionalities
      because YOU will learn partly by hacking this app and proposing
      improvements. See <a href="https://github.com/twts-isty-19/the-web-teaching-server" target="_blank">  
      the instructions to contribute!</a>
    </p>
    <hr/>
    <p>
      This website also contains some classical teaching material and
      exercises. Here are the available chapters:
    </p>
  </div>
  
  {% if current_user.is_teacher %}
      <a href="{{Â url_for('answers.see_results') }}">
          See the student's results
      </a>
  {% endif %}
  
  <div class="table">
    <table id="table">
      <thead>
        <th>Chapters</th>
        <th>Quizz</th>
        <th>Dead line</th>
        {% if current_user.is_teacher %}
        <th>Correction</th>
        {% endif %}
        <th> Score </th>
      </thead>
      <tbody>
        {% for chapter in chapters %}
        <tr>
            <td>
                <a href="{{ url_for('lessons.chapter', chapter_id=chapter.id) }}">
                    {{ chapter.name }}
                </a>
            </td>
            <td>
                <a href="{{ url_for('answers.answers_get', chapter_id=chapter.id) }}">
                    {{ chapter.quizz_status }}
                </a>
            </td>
            <td>{{ chapter.end_date }}</td>
            {% if current_user.is_teacher %}
            <td>
                <a href="{{ url_for('answers.correct_quizz', chapter_id=chapter.id) }}">
                    Go to correction
                </a>
            </td>

            {% endif %}
            <td> {{ marks[chapter.id][0] }}/{{ marks[chapter.id][1] }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  
</div>

{% endblock %}
